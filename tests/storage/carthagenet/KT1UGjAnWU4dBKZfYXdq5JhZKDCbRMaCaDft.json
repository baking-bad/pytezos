{"balance":"0","script":{"code":[{"prim":"parameter","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"mutez","annots":["%collateralize"]},{"prim":"option","args":[{"prim":"key_hash"}],"annots":["%delegate"]}]},{"prim":"pair","args":[{"prim":"int","annots":["%duration"]},{"prim":"nat","annots":["%rate"]}],"annots":["%deposit"]}]},{"prim":"pair","args":[{"prim":"int","annots":["%duration"]},{"prim":"nat","annots":["%rate"]}],"annots":["%setOffer"]}]},{"prim":"mutez","annots":["%uncollateralize"]}]},{"prim":"unit","annots":["%withdraw"]}]}]},{"prim":"storage","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%admin"]},{"prim":"mutez","annots":["%collateral"]}]},{"prim":"int","annots":["%duration"]}]},{"prim":"map","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"mutez","annots":["%amount"]},{"prim":"timestamp","annots":["%due"]}]}],"annots":["%ledger"]}]},{"prim":"nat","annots":["%rate"]}]}]},{"prim":"code","args":[[{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.sender == self.data.admin"}]},{"prim":"FAILWITH"}]]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"5"}]},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"ADD"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"DROP"},{"prim":"DROP"},{"prim":"NIL","args":[{"prim":"operation"}]}]],[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.sender == self.data.admin"}]},{"prim":"FAILWITH"}]]]},{"prim":"PUSH","args":[{"prim":"mutez"},{"int":"0"}]},{"prim":"AMOUNT"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.amount == sp.tez(0)"}]},{"prim":"FAILWITH"}]]]},{"prim":"DUP"},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"SWAP"},{"prim":"SET_DELEGATE"},{"prim":"CONS"},{"prim":"SWAP"},{"prim":"DROP"}]]]}],[[{"prim":"DUP"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"COMPARE"},{"prim":"GE"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.rate >= params.rate"}]},{"prim":"FAILWITH"}]]]},{"prim":"DUP"},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"COMPARE"},{"prim":"LE"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.duration <= params.duration"}]},{"prim":"FAILWITH"}]]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"MEM"},{"prim":"NOT"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: ~ (self.data.ledger.contains(sp.sender))"}]},{"prim":"FAILWITH"}]]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"10000"}]},{"prim":"AMOUNT"},{"prim":"DIG","args":[{"int":"7"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"8"}]},{"prim":"CDR"},{"prim":"MUL"},{"prim":"EDIV"},{"prim":"IF_NONE","args":[[[{"prim":"PUSH","args":[{"prim":"unit"},{"prim":"Unit"}]},{"prim":"FAILWITH"}]],[[]]]},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"SUB"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"SWAP"},{"prim":"DROP"},{"prim":"PUSH","args":[{"prim":"mutez"},{"int":"0"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"COMPARE"},{"prim":"GE"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.collateral >= sp.tez(0)"}]},{"prim":"FAILWITH"}]]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"NOW"},{"prim":"PUSH","args":[{"prim":"int"},{"int":"3600"}]},{"prim":"PUSH","args":[{"prim":"int"},{"int":"24"}]},{"prim":"DIG","args":[{"int":"7"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"8"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"MUL"},{"prim":"MUL"},{"prim":"ADD"},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"10000"}]},{"prim":"AMOUNT"},{"prim":"DIG","args":[{"int":"7"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"8"}]},{"prim":"CDR"},{"prim":"MUL"},{"prim":"EDIV"},{"prim":"IF_NONE","args":[[[{"prim":"PUSH","args":[{"prim":"unit"},{"prim":"Unit"}]},{"prim":"FAILWITH"}]],[[]]]},{"prim":"CAR"},{"prim":"AMOUNT"},{"prim":"ADD"},{"prim":"PAIR"},{"prim":"SOME"},{"prim":"SENDER"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"DROP"},{"prim":"DROP"},{"prim":"NIL","args":[{"prim":"operation"}]}]]]}],[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.sender == self.data.admin"}]},{"prim":"FAILWITH"}]]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"SWAP"},{"prim":"DROP"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"DROP"},{"prim":"DROP"},{"prim":"NIL","args":[{"prim":"operation"}]}]]]}],[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.sender == self.data.admin"}]},{"prim":"FAILWITH"}]]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"5"}]},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"SUB"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"SWAP"},{"prim":"DROP"},{"prim":"PUSH","args":[{"prim":"mutez"},{"int":"0"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"COMPARE"},{"prim":"GE"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.collateral >= sp.tez(0)"}]},{"prim":"FAILWITH"}]]]},{"prim":"DROP"},{"prim":"NIL","args":[{"prim":"operation"}]}]]]}],[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"GET"},{"prim":"IF_NONE","args":[[[{"prim":"PUSH","args":[{"prim":"unit"},{"prim":"Unit"}]},{"prim":"FAILWITH"}]],[[]]]},{"prim":"CDR"},{"prim":"NOW"},{"prim":"COMPARE"},{"prim":"GE"},{"prim":"IF","args":[[[]],[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.now >= self.data.ledger[sp.sender].due"}]},{"prim":"FAILWITH"}]]]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"SENDER"},{"prim":"CONTRACT","args":[{"prim":"unit"}]},{"prim":"IF_NONE","args":[[[{"prim":"PUSH","args":[{"prim":"unit"},{"prim":"Unit"}]},{"prim":"FAILWITH"}]],[[]]]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"GET"},{"prim":"IF_NONE","args":[[[{"prim":"PUSH","args":[{"prim":"unit"},{"prim":"Unit"}]},{"prim":"FAILWITH"}]],[[]]]},{"prim":"CAR"},{"prim":"PUSH","args":[{"prim":"unit"},{"prim":"Unit"}]},{"prim":"TRANSFER_TOKENS"},{"prim":"CONS"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"NONE","args":[{"prim":"pair","args":[{"prim":"mutez","annots":["%amount"]},{"prim":"timestamp","annots":["%due"]}]}]},{"prim":"SENDER"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DROP"},{"prim":"SWAP"},{"prim":"DROP"}]]]},{"prim":"PAIR"}]]}],"storage":{"prim":"Pair","args":[{"prim":"Pair","args":[{"prim":"Pair","args":[{"prim":"Pair","args":[{"string":"tz1YB12JHVHw9GbN66wyfakGYgdTBvokmXQk"},{"int":"0"}]},{"int":"365"}]},[]]},{"int":"700"}]}}}
